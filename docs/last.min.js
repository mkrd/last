(()=>{var a={config:{mode:"global",log:!1}};function w(t){let e=t.map(i=>i[0]);if(e.length!==[...new Set(e)].length)throw new Error("Duplicate shortcuts");return Object.fromEntries(t)}function x(t,e,i={}){t.dispatchEvent(new CustomEvent(e,{detail:i,bubbles:!0,composed:!0,cancelable:!0}))}function v(...t){!lastcss.config.log||console.log(...t)}function d(t){!lastcss.config.log||console.time(t)}function m(t){!lastcss.config.log||console.timeEnd(t)}function A(t){return t.filter(e=>!e.getAttribute("ui").match(/^\d+$/))}var f=0;function g(){let t=`${f}`;return f++,t}function b(t,e){let i=[...t.querySelectorAll(e)],s=t.querySelectorAll("template");for(let n of s)i=i.concat([...n.content.querySelectorAll(e)]);return i}function E(t,e){return[...new Map(t.map(i=>[e(i),i])).values()]}function p(t){let e=t.split(".");return{property:e[0],value:e.slice(1).join(" ")}}function h(t){let e=[];for(let i of t.split(" ")){if(i in lastcss.substitutions){for(let n of lastcss.substitutions[i].split(" "))e.push(p(n));continue}let s=i.split(".")[0];if(s in lastcss.substitutions){let n=lastcss.substitutions[s]+i.substring(s.length);for(let l of n.split(" "))e.push(p(l));continue}e.push(p(i))}return E(e,i=>i.property)}function j(t){for(let e of t){let i=e.getAttribute("ui");for(let{property:s,value:n}of h(i))e.style[s]=n;e.removeAttribute("ui")}}function _(t){let e={};for(let n of t){let l=n.getAttribute("ui"),r="";for(let{property:u,value:c}of h(l))r+=`${u}:${c};`;r in e?e[r].push(n):e[r]=[n]}let i=Object.entries(e).map(([n,l],r)=>{let u=g();return l.map(c=>c.setAttribute("ui",u)),`[ui="${u}"]{
${n.split(";").join(`;
`)}}`}).join(`
`);var s=document.createElement("style");s.innerHTML=i,document.head.appendChild(s)}function S(){d("\u{1F7E3}\u{1F3C1} Apply styles");let t=b(document,"[ui]");t=A(t),lastcss.config.mode==="global"?_(t):lastcss.config.mode==="inline"&&j(t),m("\u{1F7E3}\u{1F3C1} Apply styles")}var o={log:v,time:d,timeEnd:m,parse_and_validate_substitutions:w,dispatch:x,get_unique_id:g,querySelectorAllIncudingTemplates:b,apply_style_global:_,substitute_ui_attributes_with_css:S};var y=[["m","margin"],["mt","margin-top"],["mb","margin-bottom"],["ml","margin-left"],["mr","margin-right"],["p","padding"],["pt","padding-top"],["pb","padding-bottom"],["pl","padding-left"],["pr","padding-right"],["flex","display.flex"],["flow","display.flex flex-flow"],["justify-content","display.flex justify-content"],["align-items","display.flex align-items"],["align-content","display.flex align-content"],["grow","flex-grow"],["shrink","flex-shrink"],["w","width"],["h","height"],["min-w","min-width"],["min-h","min-height"],["max-w","max-width"],["max-h","max-height"],["pos","position"],["pos.abs","position.absolute"],["pos.rel","position.relative"],["t","top"],["b","bottom"],["l","left"],["r","right"],["z","z-index"],["button","background-color.var(--ui-primary-color) color.#fff border.none padding.10px border-radius.5px font-size.18px font-weight.bold cursor.pointer"]];window.lastcss=a;if(!document.body)throw new Error("Unable to initialize Last CSS. Do not use the <script> tag in the header, but rater after the <body> tag");console.log("\u{1F7E3} Last: start init");console.time("\u{1F7E3} Last init");o.dispatch(document,"last:init");a.substitutions=o.parse_and_validate_substitutions(y);a.refresh=o.substitute_ui_attributes_with_css;o.substitute_ui_attributes_with_css();o.dispatch(document,"last:initialized");console.timeEnd("\u{1F7E3} Last init");})();
