(()=>{var w=[["m","margin"],["mt","margin-top"],["mb","margin-bottom"],["ml","margin-left"],["mr","margin-right"],["p","padding"],["pt","padding-top"],["pb","padding-bottom"],["pl","padding-left"],["pr","padding-right"],["flex","display.flex"],["flow","display.flex flex-flow"],["justify-content","display.flex justify-content"],["align-items","display.flex align-items"],["align-content","display.flex align-content"],["grow","flex-grow"],["shrink","flex-shrink"],["w","width"],["h","height"],["min-w","min-width"],["min-h","min-height"],["max-w","max-width"],["max-h","max-height"],["pos","position"],["pos.abs","position.absolute"],["pos.rel","position.relative"],["t","top"],["b","bottom"],["l","left"],["r","right"],["z","z-index"],["bg","background"],["bg-color","background-color"],["header","font-size.3rem font-weight.800"],["tiny","transform.scale(0.5)"]];function v(t){let e=t.map(n=>n[0]).filter((n,o,i)=>i.indexOf(n)!==o);if(e.length>0)throw new Error(`Duplicate substitution shortcuts: ${e.join(", ")}`);return Object.fromEntries(t)}var x=v(w),f=x;var c={substitutions:f,config:{mode:"global",log:!1}};var d={};function m(t){let e=t.getAttribute("ui"),n=[];for(let o of e.split(" "))if(o in d){let i=d[o];if("init"in i&&i.init(t),"events"in i)for(let s in i.events)t.addEventListener(s,i.events[s]);n.push(i.ui_tag)}else n.push(o);t.setAttribute("ui",n.join(" "))}function A(t,e,n={}){t.dispatchEvent(new CustomEvent(e,{detail:n,bubbles:!0,composed:!0,cancelable:!0}))}function E(...t){!lastcss.config.log||console.log(...t)}function h(t){!lastcss.config.log||console.time(t)}function _(t){!lastcss.config.log||console.timeEnd(t)}function j(t){return t.filter(e=>!e.getAttribute("ui").match(/^\d+$/))}var g=0;function b(){let t=`${g}`;return g++,t}function $(t,e){let n=[...t.querySelectorAll(e)],o=t.querySelectorAll("template");for(let i of o)n=n.concat([...i.content.querySelectorAll(e)]);return n}function L(t,e){return[...new Map(t.map(n=>[e(n),n])).values()]}function p(t){let e=t.split("."),n=e[0],o=e.slice(1).join("."),i=!1;for(var s=0;s<o.length;s++){if(o[s]==="("){i=!0;continue}if(o[s]===")"){i=!1;continue}!i&&o[s]==="."&&(o=o.substring(0,s)+" "+o.substring(s+1))}return{property:n,value:o}}function y(t){let e=[];for(let n of t.split(" ")){if(n in lastcss.substitutions){for(let i of lastcss.substitutions[n].split(" "))e.push(p(i));continue}let o=n.split(".")[0];if(o in lastcss.substitutions){let i=lastcss.substitutions[o]+n.substring(o.length);for(let s of i.split(" "))e.push(p(s));continue}e.push(p(n))}return L(e,n=>n.property)}function S(t){for(let e of t){let n=e.getAttribute("ui");for(let{property:o,value:i}of y(n))e.style[o]=i;e.removeAttribute("ui")}}function k(t){let e={};for(let i of t){let s=i.getAttribute("ui"),l="";for(let{property:a,value:u}of y(s))l+=`${a}:${u};`;l in e?e[l].push(i):e[l]=[i]}let n=Object.entries(e).map(([i,s],l)=>{let a=b();return s.map(u=>u.setAttribute("ui",a)),`[ui="${a}"]{
${i.split(";").join(`;
`)}}`}).join(`
`);var o=document.createElement("style");o.innerHTML=n,document.head.appendChild(o)}function q(){h("\u{1F7E3}\u{1F3C1} Apply styles");let t=$(document,"[ui]");t=j(t);for(let e of t)m(e);lastcss.config.mode==="global"?k(t):lastcss.config.mode==="inline"&&S(t),_("\u{1F7E3}\u{1F3C1} Apply styles")}var r={log:E,time:h,timeEnd:_,dispatch:A,get_unique_id:b,apply_all:q};window.lastcss=c;if(!document.body)throw new Error("Unable to initialize Last CSS. Do not use the <script> tag in the header, but rater after the <body> tag");console.log("\u{1F7E3} Last: start init");console.time("\u{1F7E3} Last init");r.dispatch(document,"last:init");c.refresh=r.apply_all;r.apply_all();r.dispatch(document,"last:initialized");console.timeEnd("\u{1F7E3} Last init");})();
