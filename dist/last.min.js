(()=>{var w=[["m","margin"],["mt","margin-top"],["mb","margin-bottom"],["ml","margin-left"],["mr","margin-right"],["p","padding"],["pt","padding-top"],["pb","padding-bottom"],["pl","padding-left"],["pr","padding-right"],["flex","display.flex"],["flow","display.flex flex-flow"],["justify-content","display.flex justify-content"],["align-items","display.flex align-items"],["align-content","display.flex align-content"],["grow","flex-grow"],["shrink","flex-shrink"],["w","width"],["h","height"],["min-w","min-width"],["min-h","min-height"],["max-w","max-width"],["max-h","max-height"],["pos","position"],["pos.abs","position.absolute"],["pos.rel","position.relative"],["t","top"],["b","bottom"],["l","left"],["r","right"],["z","z-index"],["bg","background"],["bg-color","background-color"],["header","font-size.3rem font-weight.800"],["tiny","transform.scale(0.5)"],["button","background-color.var(--ui-primary-color) color.#fff border.none padding.10px border-radius.5px font-size.18px font-weight.bold cursor.pointer"]];function x(t){let e=t.map(i=>i[0]).filter((i,n,o)=>o.indexOf(i)!==n);if(e.length>0)throw new Error(`Duplicate substitution shortcuts: ${e.join(", ")}`);return Object.fromEntries(t)}var v=x(w),f=v;var c={substitutions:f,config:{mode:"global",log:!1}};function A(t,e,i={}){t.dispatchEvent(new CustomEvent(e,{detail:i,bubbles:!0,composed:!0,cancelable:!0}))}function E(...t){!lastcss.config.log||console.log(...t)}function m(t){!lastcss.config.log||console.time(t)}function g(t){!lastcss.config.log||console.timeEnd(t)}function j(t){return t.filter(e=>!e.getAttribute("ui").match(/^\d+$/))}var d=0;function b(){let t=`${d}`;return d++,t}function h(t,e){let i=[...t.querySelectorAll(e)],n=t.querySelectorAll("template");for(let o of n)i=i.concat([...o.content.querySelectorAll(e)]);return i}function S(t,e){return[...new Map(t.map(i=>[e(i),i])).values()]}function p(t){let e=t.split("."),i=e[0],n=e.slice(1).join("."),o=!1;for(var s=0;s<n.length;s++){if(n[s]==="("){o=!0;continue}if(n[s]===")"){o=!1;continue}!o&&n[s]==="."&&(n=n.substring(0,s)+" "+n.substring(s+1))}return{property:i,value:n}}function _(t){let e=[];for(let i of t.split(" ")){if(i in lastcss.substitutions){for(let o of lastcss.substitutions[i].split(" "))e.push(p(o));continue}let n=i.split(".")[0];if(n in lastcss.substitutions){let o=lastcss.substitutions[n]+i.substring(n.length);for(let s of o.split(" "))e.push(p(s));continue}e.push(p(i))}return S(e,i=>i.property)}function $(t){for(let e of t){let i=e.getAttribute("ui");for(let{property:n,value:o}of _(i))e.style[n]=o;e.removeAttribute("ui")}}function y(t){let e={};for(let o of t){let s=o.getAttribute("ui"),l="";for(let{property:a,value:u}of _(s))l+=`${a}:${u};`;l in e?e[l].push(o):e[l]=[o]}let i=Object.entries(e).map(([o,s],l)=>{let a=b();return s.map(u=>u.setAttribute("ui",a)),`[ui="${a}"]{
${o.split(";").join(`;
`)}}`}).join(`
`);var n=document.createElement("style");n.innerHTML=i,document.head.appendChild(n)}function k(){m("\u{1F7E3}\u{1F3C1} Apply styles");let t=h(document,"[ui]");t=j(t),lastcss.config.mode==="global"?y(t):lastcss.config.mode==="inline"&&$(t),g("\u{1F7E3}\u{1F3C1} Apply styles")}var r={log:E,time:m,timeEnd:g,dispatch:A,get_unique_id:b,querySelectorAllIncudingTemplates:h,apply_style_global:y,substitute_ui_attributes_with_css:k};window.lastcss=c;if(!document.body)throw new Error("Unable to initialize Last CSS. Do not use the <script> tag in the header, but rater after the <body> tag");console.log("\u{1F7E3} Last: start init");console.log("initial readyState:"+document.readyState);document.addEventListener("readystatechange",()=>console.log(document.readyState));console.time("\u{1F7E3} Last init");r.dispatch(document,"last:init");c.refresh=r.substitute_ui_attributes_with_css;r.substitute_ui_attributes_with_css();r.dispatch(document,"last:initialized");console.timeEnd("\u{1F7E3} Last init");})();
