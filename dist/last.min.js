(()=>{var v=[["m","margin"],["mt","margin-top"],["mb","margin-bottom"],["ml","margin-left"],["mr","margin-right"],["p","padding"],["pt","padding-top"],["pb","padding-bottom"],["pl","padding-left"],["pr","padding-right"],["flex","display.flex"],["flow","display.flex flex-flow"],["justify-content","display.flex justify-content"],["align-items","display.flex align-items"],["align-content","display.flex align-content"],["grow","flex-grow"],["shrink","flex-shrink"],["w","width"],["h","height"],["min-w","min-width"],["min-h","min-height"],["max-w","max-width"],["max-h","max-height"],["pos","position"],["pos.abs","position.absolute"],["pos.rel","position.relative"],["t","top"],["b","bottom"],["l","left"],["r","right"],["z","z-index"],["bg","background"],["bg-color","background-color"],["header","font-size.3rem font-weight.800"],["tiny","transform.scale(0.5)"]];function j(t){let e=t.map(o=>o[0]).filter((o,i,n)=>n.indexOf(o)!==i);if(e.length>0)throw new Error(`Duplicate substitution shortcuts: ${e.join(", ")}`);return Object.fromEntries(t)}var A=j(v),h=A;var c={substitutions:h,config:{mode:"global",log:!0}};function r(...t){!c.config.log||console.log(...t)}function p(t){!c.config.log||console.time(t)}function f(t){!c.config.log||console.timeEnd(t)}r("\u{1FA83} Parse components/button");var b={shortcut:"button",ui_tag:"bg-color.var(--ui-primary-color) color.#fff border.none p.10px border-radius.5px font-size.18px font-weight.bold cursor.pointer",modifiers:{secondary:"bg-color.var(--ui-secondary-color)"},init:t=>{r("Init button")},events:{click:t=>{r("Clicked button",t.target)}}};var m={};function E(t){if(r("\u{1F590}","Register component",t.shortcut),t.shortcut in m)throw new Error(`Component with shortcut ${t.shortcut} already registered`);m[t.shortcut]=t}E(b);function $(t,e){return t.filter(o=>e.includes(o))}function _(t){let e=t.getAttribute("ui").split(" "),o=$(e,Object.keys(m));if(o.length===0)return;if(o.length>1)throw new Error(`Cannot apply multiple ui components to one element. Choose one from: ${o.join(", ")}`);let i=m[o[0]],n=[];if("modifiers"in i)for(let[s,l]of Object.entries(i.modifiers)){let u=e.indexOf(s);u!==-1&&(e.splice(u,1),n.push(l))}if(e.splice(e.indexOf(i.shortcut),1,i.ui_tag,...n),"init"in i&&i.init(t),"events"in i)for(let s in i.events)t.addEventListener(s,i.events[s]);t.setAttribute("ui",e.join(" "))}function k(t,e,o={}){t.dispatchEvent(new CustomEvent(e,{detail:o,bubbles:!0,composed:!0,cancelable:!0}))}function C(t){return t.filter(e=>!e.getAttribute("ui").match(/^\d+$/))}var y=0;function x(){let t=`${y}`;return y++,t}function O(t,e){let o=[...t.querySelectorAll(e)],i=t.querySelectorAll("template");for(let n of i)o=o.concat([...n.content.querySelectorAll(e)]);return o}function z(t,e){return[...new Map(t.map(o=>[e(o),o])).values()]}function g(t){let e=t.split("."),o=e[0],i=e.slice(1).join("."),n=!1;for(var s=0;s<i.length;s++){if(i[s]==="("){n=!0;continue}if(i[s]===")"){n=!1;continue}!n&&i[s]==="."&&(i=i.substring(0,s)+" "+i.substring(s+1))}return{property:o,value:i}}function w(t){let e=[];for(let o of t.split(" ")){if(o in lastcss.substitutions){for(let n of lastcss.substitutions[o].split(" "))e.push(g(n));continue}let i=o.split(".")[0];if(i in lastcss.substitutions){let n=lastcss.substitutions[i]+o.substring(i.length);for(let s of n.split(" "))e.push(g(s));continue}e.push(g(o))}return z(e,o=>o.property)}function L(t){for(let e of t){let o=e.getAttribute("ui");for(let{property:i,value:n}of w(o))e.style[i]=n;e.removeAttribute("ui")}}function S(t){let e={};for(let n of t){let s=n.getAttribute("ui"),l="";for(let{property:u,value:d}of w(s))l+=`${u}:${d};`;l in e?e[l].push(n):e[l]=[n]}let o=Object.entries(e).map(([n,s],l)=>{let u=x();return s.map(d=>d.setAttribute("ui",u)),`[ui="${u}"]{
${n.split(";").join(`;
`)}}`}).join(`
`);var i=document.createElement("style");i.innerHTML=o,document.head.appendChild(i)}function q(){p("\u{1F7E3}\u{1F3C1} Apply styles");let t=O(document,"[ui]");t=C(t);for(let e of t)_(e);lastcss.config.mode==="global"?S(t):lastcss.config.mode==="inline"&&L(t),f("\u{1F7E3}\u{1F3C1} Apply styles")}var a={dispatch:k,get_unique_id:x,apply_all:q};window.lastcss=c;if(!document.body)throw new Error("Unable to initialize Last CSS. Do not use the <script> tag in the header, but rater after the <body> tag");r("\u{1F7E3} Last: start init");p("\u{1F7E3} Last init");a.dispatch(document,"last:init");c.refresh=a.apply_all;a.apply_all();a.dispatch(document,"last:initialized");f("\u{1F7E3} Last init");})();
